<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper  namespace="com.dapao.mapper.AdminMapper">
 	
 	<!-- 모든사업자정보출력 -->
 	<select id="ownerList" resultType="EntVO">
 		select * from ent 
 		order by own_state
		limit #{pageStart},#{pageSize}
 	</select>
 	
 	<!-- 사업자 총 개수 조회 -->
	<select id="ownerCount" resultType="int">
		<![CDATA[
		select count(*) from ent
		where own_id > 0
		]]>
	</select>
 	
 	<!-- 모든회원정보출력 -->
	<select id="getAllUser" resultType="UserVO">
		select * from user
	</select>
	
	<!-- 개인회원정보출력 -->
	<select id="userInfo" resultType="UserVO">
		select * from user where us_id=#{us_id}
	</select>
	
	<!-- 사업자정보출력 -->
	<select id="ownerInfo" resultType="EntVO">
		select * from ent where own_id=#{own_id}
	</select>
	
	<!-- 사업자 승인 -->
	<update id="ownerApprove">
		update ent set own_state=0 
		where own_id=#{own_id}
	</update>
	
	<!-- 사업자 탈퇴 -->
	<update id="ownerInfoDelete">
		update ent set own_state=2 
		where own_id=#{own_id}
	</update>
	
	<!-- FAQ 리스트 -->
	<select id="FAQList" resultType="CsVO">
		select * from cs 
		where cs_board = 1 
		order by cs_no, cs_regdate 
		limit #{pageStart},#{pageSize}
	</select>
	
	<!-- FAQ 1개 정보 -->
	<select id="FAQInfo" resultType="CsVO">
		select * from cs where cs_no = #{cs_no}
	</select>
	
	<!-- FAQ 글쓰기 -->
	<insert id="FAQWrite">
		insert into cs (cs_title,cs_content,cs_board,cs_group) 
		values(#{cs_title},#{cs_content},1,#{cs_group})
	</insert>
	
	<!-- FAQ정보 수정 -->
	<update id="FAQInfoUpdate">
		update cs 
		set cs_title=#{cs_title}, cs_content=#{cs_content},cs_update=now() 
		where cs_no=#{cs_no} 
	</update>
	
	<!-- FAQ 글 총 개수 조회 -->
	<select id="FAQCount" resultType="int">
		select count(*) from cs where cs_board=1
	</select>
	
 </mapper> 